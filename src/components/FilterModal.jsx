import {
  CheckboxGroup,
  Modal,
  ModalOverlay,
  ModalContent,
  ModalHeader,
  ModalFooter,
  ModalBody,
  ModalCloseButton,
  Stack,
  Text,
} from "@chakra-ui/react";
import { ButtonCheckbox } from "./ui/ButtonCheckbox";

export const FilterModal = ({
  onClose,
  isOpen,
  filters,
  handleFilterChange,
}) => {
  return (
    <Modal onClose={onClose} isOpen={isOpen} size={"xs"}>
      <ModalOverlay />
      <ModalContent>
        <ModalHeader textAlign={"center"} textTransform={"capitalize"} mt={2}>
          {"filter recipes"}
        </ModalHeader>
        <ModalCloseButton />
        <ModalBody>
          <CheckboxGroup colorScheme="transparent">
            <Stack
              spacing={4}
              direction={["column"]}
              align={"center"}
              textAlign={"center"}
            >
              <ButtonCheckbox
                filters={filters}
                onChange={handleFilterChange}
                index={0}
                id={"vegan"}
                icon={"heart"}
                color={"green"}
              />
              <ButtonCheckbox
                filters={filters}
                onChange={handleFilterChange}
                index={1}
                id={"vegetarian"}
                icon={"heart-off"}
                color={"yellow"}
              />
              <ButtonCheckbox
                filters={filters}
                onChange={handleFilterChange}
                index={2}
                id={"pescatarian"}
                icon={"heart-broken"}
                color={"blue"}
              />
            </Stack>
          </CheckboxGroup>
        </ModalBody>
        <ModalFooter justifyContent={"center"}>
          <Text textColor="gray.500">
            {"Selected filters:"}
            <Text as={"span"} px={1} textColor={"gray.600"} fontWeight={600}>
              {`${filters.filter((i) => i.isSelected === true).length}`}
            </Text>
            {"out of "}
            <Text as={"span"} px={1} textColor={"gray.600"} fontWeight={600}>
              {`${filters.length}`}
            </Text>
          </Text>
        </ModalFooter>
      </ModalContent>
    </Modal>
  );
};
